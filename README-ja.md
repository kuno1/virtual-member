# Virtual Member

Virtual Memberは、WordPressユーザーではない著者を表現するために「member」という投稿タイプを作成するWordPressプラグインです。これにより、仮想メンバーを投稿の著者として割り当てることができ、実際のコンテンツ作成者とWordPressで公開する人が異なる場合に特に役立ちます。

## 説明

Virtual Memberは、WordPressユーザーアカウントを持たない著者からのコンテンツを表示する必要があるウェブサイトのためのソリューションを提供します。すべての著者にWordPressユーザーアカウントを作成する代わりに、名前、プロフィール画像、経歴、連絡先情報などの著者情報を含む「member」投稿を作成できます。

### 主な機能

- プロフィール画像、説明、連絡先情報を持つ仮想メンバーを作成
- 任意の投稿タイプに仮想メンバーを著者として割り当て
- 投稿ごとに単一または複数の著者をサポート
- タクソノミーを使用したメンバーのグループ化
- メンバー投稿タイプのラベルとURL構造のカスタマイズ
- 著者が指定されていない投稿のデフォルトメンバーを設定
- メンバーを組織やサイト代表者として指定
- 仮想メンバーの自動Open Graph Protocolメタデータ
- クラシックエディターとブロックエディターの両方に対応

### 使用例

- WordPressユーザーアカウントを作成せずにゲスト著者からのコンテンツを公開
- 実際の著者がWordPressで公開するユーザーと異なるコンテンツの管理
- 個人ではなく組織の署名を作成
- 著者アーカイブを持つスタッフディレクトリの維持

## インストール方法

1. `virtual-member`フォルダを`/wp-content/plugins/`ディレクトリにアップロード
2. WordPressの「プラグイン」メニューからプラグインを有効化
3. 「メンバー」メニューの「メンバー設定」に移動してプラグインを設定

## カスタマイズ

### 基本設定

1. WordPressの管理画面で「メンバー」>「メンバー設定」に移動
2. 「基本設定」で、仮想メンバーを著者として持つべき投稿タイプを選択
3. 必要に応じて、著者が指定されていない投稿のデフォルトメンバーを設定
4. メンバー投稿タイプを公開（独自のパーマリンクを持つ）にするかどうかを選択
5. メンバーアーカイブのURLプレフィックスを設定（デフォルトは「member」）
6. 変更を保存

### 仮想メンバーの作成

1. WordPressの管理画面で「メンバー」>「新規追加」に移動
2. タイトルフィールドにメンバーの名前を入力
3. コンテンツエディターに説明を追加
4. アイキャッチ画像を使用してプロフィール画像を設定
5. 「連絡先情報」メタボックスに連絡先情報を追加
6. 必要に応じて、メンバーを組織またはサイト代表者としてマーク
7. 「グループ」タクソノミーを使用してメンバーをグループに割り当て
8. メンバーを公開

### 投稿へのメンバーの割り当て

1. 仮想メンバーを有効にした投稿タイプの投稿を編集
2. サイドバーの「メンバー」メタボックスを探す
3. ドロップダウンからメンバーを選択（単一著者モード）または検索フィールドを使用して複数のメンバーを追加（複数著者モード）
4. 投稿を更新

### 高度な設定

#### 複数著者

1. 「メンバー」>「メンバー設定」に移動
2. 「基本設定」の「複数割り当てを許可」オプションで「複数著者」を選択
3. 変更を保存
4. 投稿の編集時に、複数のメンバーを著者として追加できるようになります

#### カスタム連絡先情報

1. 「メンバー」>「メンバー設定」に移動
2. 「連絡先情報」フィールドを見つける
3. CSVフォーマットでカスタム連絡先情報を入力（例：`facebook,Facebook`）
4. 変更を保存
5. これらの連絡先情報がメンバーエディターに表示されます

#### メンバーグループ

1. 「メンバー」>「グループ」に移動
2. メンバーを分類するためのグループを作成（例：「スタッフ」、「寄稿者」、「編集者」）
3. メンバーの作成または編集時に、これらのグループに割り当てる

### フロントエンド表示

投稿に仮想メンバーが著者として割り当てられている場合：

- 著者名はWordPressユーザーではなくメンバーの名前が表示されます
- 著者リンクはメンバーのページまたはアーカイブを指します
- 著者のアバターはメンバーのプロフィール画像を使用します
- 著者の説明と連絡先情報はメンバー投稿から取得されます

## よくある質問

### このプラグインを共同著者プラグインと一緒に使用できますか？

はい、Virtual Memberは他の著者管理プラグインと一緒に使用できますが、カスタムコードを通じて互換性を確保する必要がある場合があります。

### カスタム連絡先情報をフロントエンドに表示するにはどうすればよいですか？

このプラグインはWordPressの著者テンプレート関数に自動的にフックします。`get_the_author_meta('facebook')`のような標準のWordPress関数を使用してカスタム連絡先情報を表示できます。

### メンバーアーカイブのURL構造を変更できますか？

はい、「メンバー」>「メンバー設定」に移動し、「URLプレフィックス」設定を変更します。この設定を変更した後、設定 > パーマリンクに移動して「変更を保存」をクリックし、パーマリンクをフラッシュすることを忘れないでください。

### メンバーをすべての投稿のデフォルト著者として設定するにはどうすればよいですか？

1. デフォルトとして機能するメンバーを作成
2. 「メンバー」>「メンバー設定」に移動
3. 「デフォルト著者」ドロップダウンでこのメンバーを選択
4. 変更を保存

### このプラグインをカスタム投稿タイプで使用できますか？

はい、プラグイン設定で任意の公開投稿タイプに対して仮想メンバーを有効にできます。

### フロントエンドで複数の著者を表示するにはどうすればよいですか？

複数の著者を有効にした場合、すべての著者を表示するにはカスタムコードを使用する必要があります。`CommonMethods`トレイトの`get_members()`関数を使用して、投稿に割り当てられたすべてのメンバーを取得できます。

```php
// 投稿のすべての著者を表示するサンプルコード
$public_screen = \Kunoichi\VirtualMember\Ui\PublicScreen::get_instance();
$members = $public_screen->get_members(get_the_ID());
foreach ($members as $member) {
    echo get_the_title($member);
    // その他のメンバー情報を表示
}
```

### このプラグインはブロックエディターと互換性がありますか？

はい、Virtual Memberはクラシックエディターとブロックエディター（Gutenberg）の両方で動作します。

### メンバーを組織として指定できますか？

はい、メンバーの編集時に、組織メタボックスの「これは組織です」オプションをチェックします。これにより、メンバーに対して生成されるschema.orgマークアップにも影響します。
